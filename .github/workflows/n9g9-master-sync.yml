name: N9G9 - Special Sync 3.9.7 (Manual)
on:
  workflow_dispatch: # ä»…æ‰‹åŠ¨è§¦å‘

jobs:
  sync_397:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Fetch and Release 3.9.7
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          TARGET_REPO: ${{ github.repository }}
          RELEASE_TAG: "OKPRO-3.9.7"
          
          # ğŸ¯ æŒ‡å‘ä½ ç”µè„‘å¤‡ä»½åä¸Šä¼ åˆ° apk ä»“åº“çš„ 3.9.7 ä¸‹è½½åœ°å€
          URL_V7A: "https://raw.githubusercontent.com/sowahsun/apk/main/okprotv3.9.7_v7a.apk"
          URL_V8A: "https://raw.githubusercontent.com/sowahsun/apk/main/okprotv3.9.7_v8a.apk"

        run: |
          echo "ğŸš€ æ­£åœ¨æŠ“å– 3.9.7 ç‰ˆæœ¬èµ„äº§..."
          curl -L -o "okprotv_3.9.7_v7a.apk" "$URL_V7A"
          curl -L -o "okprotv_3.9.7_v8a.apk" "$URL_V8A"

          echo "ğŸ“¦ æ­£åœ¨å‘å¸ƒåˆ° N9G9 Release..."
          gh release create "$RELEASE_TAG" \
            "okprotv_3.9.7_v7a.apk" \
            "okprotv_3.9.7_v8a.apk" \
            -R "$TARGET_REPO" \
            --title "OKPro TV 3.9.7" \
            --notes "Stable Version: Optimized for newer Android systems."
          
          echo "ğŸ‰ 3.9.7 æŠ“å–å®Œæˆï¼"
